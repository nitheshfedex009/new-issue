# new-issue
Pagination and sorting the results :  When you select the records of the WMS DB table, we can store all the rows in EG level (esql) shared variable.  Shared variable lifetime is till the execution group restart and scope is throughout the message flow. It can be accessed in any nodes which uses ESQL.Using a shared variable is a 'safer' method than using LocalEnvironment or Environmentf for this specific requirement.   For example, if we get 500 rows as result,  Then an esql logic to break down  the first 1 row could be written in the required format (xml to JSON) and it can be achieved either with some specific time intervals incorporated with in flow or just complete the iteration process until th last row.  One more thing here is you can also write the query in a way to do the pagination as we already know its not going to be 500 records. We can set the max number to 10000  The most common cache implementation with ESQL shared variables consists of a shared ROW that contains the result of a SELECT on the database table being cached.  After that every other single rows will be iterated until the last one is completed, We write that message to a queue for clearing the cache.
